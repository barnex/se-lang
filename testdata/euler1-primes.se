print(sum_primes(100))

sum_primes = (max) -> {
	iter(0, 2)
	iter = (sum, i) -> (
		if(i == max,
			sum,
			sum + (isprime(i)? i: 0) + iter(sum, i+1),
		)
	)
}

isprime = n -> {
	!has_divisor(2, n-1)
	has_divisor = (i, max) -> (
		if(i > max, 
			false,	
			(if n % i == 0, true, has_divisor(n, max+1)),
		)
	)
}
